// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// compiled file.
//
// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details
// about supported directives.
//


















$(document).ready(function(){
  //////////////////
  // MASKED INPUT //
  //////////////////
  $('.date').mask('00/00/0000',{placeholder: "DD/MM/AAAA"});
  $('.month-date').mask('00/0000',{placeholder: "MM/AAAA"});
  $('input[data-provide="datepicker"]').mask('00/00/0000',{placeholder: "__/__/____"});
  $('.time').mask('00:00:00');
  $('.date_time').mask('00/00/0000 00:00:00',{placeholder:"__/__/____ __:__:__"});
  $('.cep').mask('00000-000',{placeholder:"_____-__"});
  $('.phone').mask('0000-0000');
  
  // MASCARA DE TELEFONE //
  var pwdbehavior = function (val) {
    return val.replace(/\D/g, '').length == 11 ? '(00) 00000-0000' : '(00) 0000-00009';
  },
  pwdptions = {
    placeholder: "(__) _____-____",
    onKeyPress: function(val, e, field, options) {
        field.mask(pwdbehavior.apply({}, arguments), options);
      }
  };
  $('.phone_with_ddd').mask(pwdbehavior, pwdptions);
  $('.phone_us').mask('(000) 000-0000');
  $('.mixed').mask('AAA 000-S0S');
  $('.cpf').mask('000.000.000-00', {placeholder: "___.___.___-__", reverse: true});
  $('.cnpj').mask('00.000.000/0000-00', {placeholder: "__.___.___/____-__", reverse: true});
  //$('.money').mask('R$ 000.000.000.000.000,00', {placeholder: "R$ _,__", reverse: true});
  $('.money').mask("###.###.##0,00", {placeholder: "0,00",reverse: true});  
  $('.coeficiente').mask("0,000000", {placeholder: "0,000000"});
  $('.porcentagem').mask("0,000", {placeholder: "0,000"});
  $('.ip_address').mask('0ZZ.0ZZ.0ZZ.0ZZ', {
    translation: {
      'Z': {
        pattern: /[0-9]/, optional: true
      }
    }
  });
  $('.ip_address').mask('099.099.099.099');
  $('.percent').mask('##0,00%', {reverse: true});
  $('.clear-if-not-match').mask("00/00/0000", {clearIfNotMatch: true});
  $('.placeholder').mask("00/00/0000", {placeholder: "__/__/____"});
  $('.fallback').mask("00r00r0000", {
      translation: {
        'r': {
          pattern: /[\/]/,
          fallback: '/'
        },
        placeholder: "__/__/____"
      }
    });
  $('.selectonfocus').mask("00/00/0000", {selectOnFocus: true});
  
  // Text field uppercase //
  $('body').on('change','.uppercase', function(){
    this.value = (this.value.toUpperCase());
  });
  
  // email field lowercase //
  $("input[type='email']").on('keyup change', function() {    
    email = $(this).prop('value')
    email = email.toLowerCase();
    email = email.replace(/[^\S]/g,'');
    email = email.substr(email.search(/\w/g));
    email = email.replace(/\s/g,'');
    $(this).attr('value', email);
  });
});
